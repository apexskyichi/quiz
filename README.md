# かわいいクイズアプリ - セットアップガイド

## 📦 必要なもの

### Windows環境
1. **Python 3.8以上**（Excel→JSON変換用）
   - https://www.python.org/ からダウンロード
   
2. **Webサーバー**（アプリを起動するため）
   - Python付属の簡易サーバーでOK
   
3. **テキストエディタ**（オプション）
   - メモ帳でも可

### 必要なPythonライブラリ
```bash
pip install pandas openpyxl
```

---

## 🚀 セットアップ手順

### 1. ファイルの配置

クイズアプリのフォルダ構成：

```
quiz-app/
├── index.html          # メインページ
├── style.css          # スタイル
├── script.js          # ロジック
├── manifest.json      # PWA設定
├── service-worker.js  # オフライン対応
│
├── data/              # 問題データフォルダ
│   └── questions.json # 問題データ（自動生成）
│
├── icons/             # アイコンフォルダ
│   └── icon-*.png    # 各サイズのアイコン
│
└── converter/         # 変換ツールフォルダ
    ├── excel_to_json.py      # 変換スクリプト
    └── sample_questions.xlsx # サンプル問題

```

### 2. Webサーバーの起動

#### 方法1: Pythonの簡易サーバー（推奨）

1. コマンドプロンプトを開く
2. quiz-appフォルダに移動
   ```bash
   cd C:\Users\あなたの名前\Desktop\quiz-app
   ```
3. サーバーを起動
   ```bash
   python -m http.server 8000
   ```
4. ブラウザで `http://localhost:8000` を開く

#### 方法2: VS Code の Live Server拡張機能
1. VS Codeで quiz-app フォルダを開く
2. index.html を右クリック
3. "Open with Live Server" を選択

---

## 📱 iPhoneでの使い方

### 初回セットアップ

1. **PCとiPhoneを同じWi-Fiに接続**

2. **PCのIPアドレスを確認**
   - コマンドプロンプトで `ipconfig` を実行
   - 「IPv4 アドレス」を確認（例：192.168.1.10）

3. **iPhoneのSafariでアクセス**
   - Safariを開く
   - アドレスバーに入力：`http://192.168.1.10:8000`
   - （IPアドレスは上で確認したものを使用）

4. **ホーム画面に追加**（PWAとしてインストール）
   - ページが表示されたら、共有ボタン（□↑）をタップ
   - 「ホーム画面に追加」をタップ
   - 名前を確認して「追加」をタップ

5. **アプリとして起動**
   - ホーム画面に追加されたアイコンをタップ
   - フルスクリーン表示で起動します

### 使い方

1. **初回起動時**
   - ジャンルを選択して「学習を始める」をタップ

2. **学習の流れ**
   - 問題が表示される
   - 頭の中で答えを考える
   - 「答えを見る」をタップ
   - 答えと解説を確認
   - 「マスター済み」で習得した問題をマーク
   - 「次の問題へ」で次の問題に進む

3. **操作方法**
   - タップ：ボタンを押す
   - 左スワイプ：答え表示後、次の問題へ（オプション）
   - スペースキー/Enter：答えを見る/次へ（キーボード接続時）

---

## 📝 問題の追加方法

### 1. Excelで問題を作成

1. `converter/sample_questions.xlsx` を開く（サンプル）
2. 以下の形式で問題を入力：

| ID | ジャンル | サブジャンル | 問題 | 答え | 解説 | 難易度 |
|----|---------|-------------|------|------|------|-------|
| 11 | 英単語 | 動物 | "dog"の意味は？ | 犬 | 家庭でよく飼われるペット | 1 |

**注意事項：**
- ID は重複しないように
- ジャンル、問題、答え、解説は必須
- サブジャンル、難易度は任意
- 1行目は必ず列名にする

3. 名前を付けて保存（例：my_questions.xlsx）

### 2. Excel → JSON変換

1. コマンドプロンプトを開く
2. quiz-app/converter フォルダに移動
3. 変換コマンドを実行：
   ```bash
   python excel_to_json.py my_questions.xlsx -o ../data/questions.json
   ```

### 3. アプリをリロード

1. アプリの設定画面を開く
2. 「問題データを再読み込み」をタップ
3. または、ページをリフレッシュ

---

## ⚙️ カスタマイズ

### 色の変更（style.css）

```css
:root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    /* ↑ この色を変更 */
}
```

### アプリ名の変更

1. `index.html` の `<title>` タグ
2. `manifest.json` の `name` と `short_name`
3. HTMLの `.app-title` 内のテキスト

---

## 🔧 トラブルシューティング

### Q: 問題が表示されない
A: 
- `data/questions.json` が存在するか確認
- ブラウザの開発者ツール（F12）でエラーを確認
- サーバーが正しく起動しているか確認

### Q: iPhoneからアクセスできない
A:
- PCとiPhoneが同じWi-Fiに接続されているか確認
- Windowsファイアウォールの設定を確認
- ポート8000が開放されているか確認

### Q: ホーム画面に追加できない
A:
- HTTPSではなくHTTPでアクセスしている場合の制限
- iOS 16.4以降が必要な場合があります

### Q: オフラインで動作しない
A:
- 一度オンラインで全ページを読み込む必要があります
- Service Workerが正しく登録されているか確認

---

## 📊 データのバックアップ

### 学習進捗のバックアップ
- ブラウザのローカルストレージに自動保存
- 設定 > データ管理 でエクスポート可能（今後実装予定）

### 問題データのバックアップ
- Excelファイルを定期的に保存
- JSONファイルもバックアップを推奨

---

## 🎨 今後の拡張案

- 学習統計グラフ
- 問題のお気に入り機能
- 複数の問題セット管理
- 音声読み上げ機能
- 画像付き問題対応
- クラウド同期

---

## 📧 サポート

問題が解決しない場合は、以下の情報を準備してください：
- 使用しているブラウザとバージョン
- iOSのバージョン
- エラーメッセージ（あれば）
- 問題が発生する手順

---

最終更新: 2024年
